var IntSet  = require('../util/intset') ,
TagCountPack = require('../pack/tagcount-pack');
const DataPackSender = require('./datapack-sender');

var Test = function() {
    this.sent = new IntSet().setMax(10);
    this.init()
}

Test.prototype.init = function() {
    this.sent.add(1);
    this.sent.add(2);
    this.sent.add(3);
    this.sent.add(4);
    this.sent.add(5);
    this.sent.add(6);
    this.sent.add(7);
    this.sent.add(8);
    this.sent.add(9);
    this.sent.add(10);
    this.sent.add(11);
    this.sent.add(12);
    this.sent.add(13);
    this.sent.add(14);
    if(this.sent.hasKey(14) == false) {
        console.log(this.sent.getLastValue())
        this.sent.add(15);
    }
    var p = new TagCountPack()
    p.category = 'aaaa' 
    p.pcode = 101
    p.oid = 1
    p.putTagString('tag1','tag1')
    p.putTagString('tag2','tag2')
    p.putTagString('tag3','tag3')
    p.putTagString('tag4','tag4')
    p.putTagString('tag5','tag5')
    p.putTagString('tag6','tag6')
    p.putInt('filed1' , 100)
    p.putInt('filed2' , 200)
    p.putInt('filed3' , 300)
    p.putInt('filed4' , 400)
    p.putInt('filed5' , 500)
    p.putInt('filed6' , 600)
    
    DataPackSender.sendTagCounterPack(p);
}

exports.Test = new Test();